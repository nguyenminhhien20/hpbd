<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        overflow: hidden;
        background: #000;
      }

      .container {
        position: relative;
        width: 100vw;
        height: 100vh;
        background: black;
        overflow: hidden;
      }

      /* Flash Effect */
      #flash {
        position: fixed;
        inset: 0;
        background: white;
        pointer-events: none;
        z-index: 20;
        opacity: 0;
        transition: opacity 1s;
      }

      #flash.active {
        animation: flashAnim 1s forwards;
      }

      @keyframes flashAnim {
        0% {
          opacity: 0;
        }
        25% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }

      /* Birthday Card */
      #birthday-card {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 15;
        display: none;
      }

      #birthday-card.show {
        display: block;
      }

      .card-wrapper {
        cursor: pointer;
        transition: all 0.5s;
      }

      .card-wrapper:hover {
        transform: scale(1.05);
      }

      .card-container {
        position: relative;
        width: 350px;
        height: 500px;
      }

      .card-glow {
        position: absolute;
        inset: 0;
        filter: blur(60px);
        opacity: 0.5;
        background: radial-gradient(circle, #ff1493, #ff69b4, transparent);
      }

      .card-main {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: 30px;
        overflow: hidden;
        background: linear-gradient(
          135deg,
          #fff0f5 0%,
          #ffe4e9 50%,
          #ffd1dc 100%
        );
        box-shadow: 0 30px 90px rgba(255, 20, 147, 0.4),
          0 15px 50px rgba(255, 105, 180, 0.3),
          inset 0 2px 30px rgba(255, 255, 255, 0.5);
      }

      .card-border {
        position: absolute;
        inset: 12px;
        border: 4px solid rgba(255, 192, 203, 0.5);
        border-radius: 25px;
        pointer-events: none;
      }

      .card-top-decoration {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 96px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .emoji-row {
        display: flex;
        gap: 8px;
      }

      .emoji-bounce {
        font-size: 30px;
        animation: bounce 1s ease-in-out infinite;
      }

      .card-text {
        position: absolute;
        top: 128px;
        left: 0;
        right: 0;
        text-align: center;
        padding: 0 32px;
      }

      .card-title-1 {
        font-size: 42px;
        font-weight: 900;
        margin-bottom: 24px;
        background: linear-gradient(135deg, #ff1493, #ff69b4, #ff1493);
        background-size: 200% 200%;
        animation: gradient-shift 3s ease infinite;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .card-title-2 {
        font-size: 52px;
        font-weight: 900;
        margin-bottom: 16px;
        background: linear-gradient(135deg, #ff1493, #ff69b4, #ff1493);
        background-size: 200% 200%;
        animation: gradient-shift 3s ease infinite;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .card-divider {
        width: 64px;
        height: 4px;
        margin: 0 auto 16px;
        border-radius: 9999px;
        background: linear-gradient(to right, #ffc0cb, #ff69b4, #ffc0cb);
      }

      .card-name {
        color: #ec4899;
        font-size: 22px;
        font-style: italic;
      }

      .card-cake {
        position: absolute;
        left: 50%;
        top: 70%;
        transform: translateX(-50%);
        font-size: 60px;
      }

      .card-bottom-decoration {
        position: absolute;
        bottom: 32px;
        left: 0;
        right: 0;
        display: flex;
        justify-content: center;
        gap: 12px;
      }

      .emoji-pulse {
        font-size: 24px;
        animation: pulse 2s ease-in-out infinite;
      }

      .mai-flower {
        position: absolute;
        font-size: 28px;
        animation: float-around 3s ease-in-out infinite;
        filter: hue-rotate(-10deg) saturate(3) brightness(1.2)
          drop-shadow(0 0 8px rgba(255, 215, 0, 0.9));
      }

      .click-hint {
        position: absolute;
        bottom: -64px;
        left: 50%;
        transform: translateX(-50%);
        white-space: nowrap;
      }

      .click-hint-button {
        padding: 12px 32px;
        border-radius: 9999px;
        background: linear-gradient(90deg, #ff1493, #ff69b4, #ff1493);
        background-size: 200% 100%;
        animation: gradient-slide 2s linear infinite;
        box-shadow: 0 5px 20px rgba(255, 20, 147, 0.5);
        color: white;
        font-size: 16px;
      }

      /* Party Effects */
      #party-container {
        position: fixed;
        inset: 0;
        z-index: 15;
        pointer-events: none;
        overflow: hidden;
        display: none;
      }

      #party-container.show {
        display: block;
      }

      .pink-balloon {
        position: absolute;
        font-size: 50px;
        animation: pink-balloon-rise ease-out forwards;
      }

      .party-firework {
        position: absolute;
        animation: party-firework-burst 2s ease-out forwards;
      }

      .party-firework-particle {
        position: absolute;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        animation: party-firework-particle 1.8s ease-out forwards;
      }

      /* Fireworks */
      #fireworks-container {
        position: fixed;
        inset: 0;
        z-index: 5;
        pointer-events: none;
        display: none;
      }

      #fireworks-container.show {
        display: block;
      }

      .firework {
        position: absolute;
        animation: firework-burst 1.8s ease-out infinite;
      }

      .firework-particle {
        position: absolute;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        animation: firework-particle 1.5s ease-out infinite;
      }

      /* Canvas */
      #matrix-canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        display: none;
      }

      #matrix-canvas.show {
        display: block;
      }

      #ascii-canvas {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
        opacity: 0;
        transition: opacity 0.3s;
      }

      #ascii-canvas.show {
        opacity: 1;
      }

      /* Photo */
      #photo {
        position: fixed;
        top: 50%;
        left: 50%;
        width: 330px;
        height: 330px;
        border-radius: 25px;
        object-fit: cover;
        z-index: 10;
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.4);
        transition: all 1s;
      }

      #photo.show {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
        box-shadow: 0 0 40px #ff4f88, 0 0 70px rgba(255, 105, 180, 0.7),
          0 0 100px rgba(255, 20, 147, 0.4);
      }

      /* Photo Caption */
      #photo-caption {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, calc(-50% + 220px));
        z-index: 11;
        opacity: 0;
        transition: opacity 1s;
        text-align: center;
      }

      #photo-caption.show {
        opacity: 1;
      }

      .caption-text {
        font-size: 36px;
        font-weight: 900;
        background: linear-gradient(
          135deg,
          #ff1493,
          #ff69b4,
          #ffd700,
          #ff69b4,
          #ff1493
        );
        background-size: 200% 200%;
        animation: gradient-shift 3s ease infinite;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        filter: drop-shadow(0 0 15px rgba(255, 105, 180, 0.6));
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
      }

      .caption-icon {
        font-size: 38px;
        animation: icon-bounce 1.5s ease-in-out infinite;
      }

      @keyframes icon-bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-8px);
        }
      }

      /* Animations */
      @keyframes gradient-shift {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      @keyframes gradient-slide {
        0% {
          background-position: 0% 50%;
        }
        100% {
          background-position: 200% 50%;
        }
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes bounce-slow {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-15px);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.5;
          transform: scale(1.1);
        }
      }

      @keyframes float-around {
        0%,
        100% {
          transform: translate(0, 0) rotate(0deg);
          opacity: 0.6;
        }
        50% {
          transform: translate(10px, -15px) rotate(180deg);
          opacity: 1;
        }
      }

      @keyframes confetti-fall {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(110vh) rotate(720deg);
          opacity: 0.8;
        }
      }

      @keyframes balloon-float {
        0% {
          transform: translateY(0) translateX(0) scale(0.3);
          opacity: 0;
        }
        15% {
          opacity: 1;
        }
        100% {
          transform: translateY(-110vh) translateX(40px) scale(1);
          opacity: 0;
        }
      }

      @keyframes star-twinkle {
        0%,
        100% {
          opacity: 0.4;
          transform: scale(0.7);
        }
        50% {
          opacity: 1;
          transform: scale(1.3);
        }
      }

      @keyframes heart-float {
        0% {
          transform: translateY(0) scale(0.4) rotate(0deg);
          opacity: 0;
        }
        15% {
          opacity: 1;
        }
        100% {
          transform: translateY(-110vh) scale(1.1) rotate(360deg);
          opacity: 0;
        }
      }

      @keyframes firework-burst {
        0% {
          transform: scale(0);
          opacity: 1;
        }
        15% {
          transform: scale(0.3);
          opacity: 1;
        }
        100% {
          transform: scale(1);
          opacity: 0;
        }
      }

      @keyframes firework-particle {
        0% {
          transform: rotate(var(--rotation)) translateY(0);
          opacity: 1;
        }
        100% {
          transform: rotate(var(--rotation)) translateY(-140px);
          opacity: 0;
        }
      }

      @keyframes pink-balloon-rise {
        0% {
          transform: translateY(0) scale(0.3);
          opacity: 0;
        }
        15% {
          opacity: 1;
        }
        100% {
          transform: translateY(-110vh) scale(1);
          opacity: 0;
        }
      }

      @keyframes party-firework-burst {
        0% {
          transform: scale(0);
          opacity: 1;
        }
        15% {
          transform: scale(0.3);
          opacity: 1;
        }
        100% {
          transform: scale(1);
          opacity: 0;
        }
      }

      @keyframes party-firework-particle {
        0% {
          transform: rotate(var(--rotation)) translateY(0);
          opacity: 1;
        }
        100% {
          transform: rotate(var(--rotation)) translateY(-140px);
          opacity: 0;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Flash Effect -->
      <div id="flash"></div>

      <!-- Birthday Card -->
      <div id="birthday-card" class="show">
        <div class="card-wrapper" onclick="handleCardClick()">
          <div class="card-container">
            <div class="card-glow"></div>

            <div class="card-main">
              <div class="card-border"></div>

              <div class="card-top-decoration">
                <div class="emoji-row">
                  <div class="emoji-bounce" style="animation-delay: 0s">üéà</div>
                  <div class="emoji-bounce" style="animation-delay: 0.1s">
                    üéâ
                  </div>
                  <div class="emoji-bounce" style="animation-delay: 0.2s">
                    üéÇ
                  </div>
                  <div class="emoji-bounce" style="animation-delay: 0.3s">
                    üéÅ
                  </div>
                  <div class="emoji-bounce" style="animation-delay: 0.4s">
                    üéÇ
                  </div>
                  <div class="emoji-bounce" style="animation-delay: 0.5s">
                    üéâ
                  </div>
                  <div class="emoji-bounce" style="animation-delay: 0.6s">
                    üéà
                  </div>
                </div>
              </div>

              <div class="card-text">
                <div class="card-title-1">HAPPY</div>
                <div class="card-title-2">BIRTHDAY</div>
                <div class="card-divider"></div>
                <div class="card-name">Ph·∫°m Th·ªã Tuy·∫øt Mai</div>
              </div>

              <div class="card-cake">üéÇ</div>

              <div class="card-bottom-decoration">
                <div class="emoji-pulse" style="animation-delay: 0s">üéä</div>
                <div class="emoji-pulse" style="animation-delay: 0.2s">üïØÔ∏è</div>
                <div class="emoji-pulse" style="animation-delay: 0.4s">ü•≥</div>
                <div class="emoji-pulse" style="animation-delay: 0.6s">üéâ</div>
                <div class="emoji-pulse" style="animation-delay: 0.8s">üéä</div>
              </div>

              <!-- Mai Flowers -->
              <div
                class="mai-flower"
                style="left: 15%; top: 20%; animation-delay: 0s"
              >
                üåº
              </div>
              <div
                class="mai-flower"
                style="left: 30%; top: 45%; animation-delay: 0.3s"
              >
                üåº
              </div>
              <div
                class="mai-flower"
                style="left: 45%; top: 25%; animation-delay: 0.6s"
              >
                üåº
              </div>
              <div
                class="mai-flower"
                style="left: 60%; top: 45%; animation-delay: 0.9s"
              >
                üåº
              </div>
              <div
                class="mai-flower"
                style="left: 75%; top: 25%; animation-delay: 1.2s"
              >
                üåº
              </div>
              <div
                class="mai-flower"
                style="left: 90%; top: 45%; animation-delay: 1.5s"
              >
                üåº
              </div>
            </div>

            <div class="click-hint">
              <div class="click-hint-button">ƒê√¢yüíå</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Party Container -->
      <div id="party-container"></div>

      <!-- Fireworks Container -->
      <div id="fireworks-container"></div>

      <!-- Matrix Canvas -->
      <canvas id="matrix-canvas"></canvas>

      <!-- ASCII Canvas -->
      <canvas id="ascii-canvas" width="1200" height="220"></canvas>

      <!-- Photo -->
     <img
  id="photo"
  src="images/mei.jpg"
  alt="Birthday celebration"
/>

      <!-- Photo Caption -->
      <div id="photo-caption">
        <div class="caption-text">
          <span>PH·∫†M TH·ªä TUY·∫æT MAI</span>
          <span class="caption-icon">üéÇ</span>
        </div>
      </div>
    </div>

    <script>
      // State variables
      let particles = [];
      let targetPoints = [];
      let animFrame;
      let matrixInterval;

      const messages = [
        "CH√öC M·ª™NG SINH NH·∫¨T üéâ",
        "07.12.2025 üïØÔ∏è",
        "22+",
        "PH·∫†M TH·ªä TUY·∫æT MAI",
      ];

      // Handle card click
      function handleCardClick() {
        const card = document.getElementById("birthday-card");
        const flash = document.getElementById("flash");
        const partyContainer = document.getElementById("party-container");

        card.classList.remove("show");
        flash.classList.add("active");

        const pinkColors = [
          "#ff1493",
          "#ff69b4",
          "#ff85a2",
          "#ffb6c1",
          "#ffc0cb",
        ];

        // Create pink balloons rising from bottom
        for (let i = 0; i < 20; i++) {
          const balloon = document.createElement("div");
          balloon.className = "pink-balloon";
          balloon.textContent = "üéà";
          balloon.style.left = 5 + i * 4.5 + "%";
          balloon.style.bottom = "-50px";
          balloon.style.animationDelay = i * 0.1 + "s";
          balloon.style.animationDuration = "4.5s";
          balloon.style.filter = `drop-shadow(0 0 12px ${
            pinkColors[i % pinkColors.length]
          })`;
          partyContainer.appendChild(balloon);
        }

        // Create party fireworks in the center
        for (let i = 0; i < 15; i++) {
          const firework = document.createElement("div");
          firework.className = "party-firework";
          firework.style.left = 20 + (i % 5) * 15 + "%";
          firework.style.top = 15 + Math.floor(i / 5) * 25 + "%";
          firework.style.animationDelay = i * 0.12 + "s";

          for (let j = 0; j < 24; j++) {
            const particle = document.createElement("div");
            particle.className = "party-firework-particle";
            const color = pinkColors[j % pinkColors.length];
            particle.style.background = color;
            particle.style.boxShadow = `0 0 15px ${color}`;
            particle.style.setProperty("--rotation", j * 15 + "deg");
            particle.style.animationDelay = i * 0.12 + "s";
            firework.appendChild(particle);
          }

          partyContainer.appendChild(firework);
        }

        partyContainer.classList.add("show");

        setTimeout(() => {
          flash.classList.remove("active");
        }, 900);

        setTimeout(() => {
          partyContainer.classList.remove("show");
          startMatrixRain();
          startAsciiParticles();
        }, 4500);
      }

      // Matrix Rain
      function startMatrixRain() {
        const canvas = document.getElementById("matrix-canvas");
        const ctx = canvas.getContext("2d");

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        canvas.classList.add("show");

        const chars = "HAPPYBIRTHDAY";
        const fontSize = 18;
        const columns = Math.floor(canvas.width / fontSize);
        const drops = Array(columns).fill(1);

        function rain() {
          ctx.fillStyle = "rgba(0,0,0,0.07)";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          ctx.fillStyle = "#ff7cb8";
          ctx.font = fontSize + "px monospace";

          for (let i = 0; i < drops.length; i++) {
            const char = chars[Math.floor(Math.random() * chars.length)];
            ctx.fillText(char, i * fontSize, drops[i] * fontSize);
            if (drops[i] * fontSize > canvas.height && Math.random() > 0.96) {
              drops[i] = 0;
            }
            drops[i]++;
          }
        }

        matrixInterval = setInterval(rain, 50);
      }

      // ASCII Particle System
      function generatePoints(text) {
        const canvas = document.getElementById("ascii-canvas");
        const offCanvas = document.createElement("canvas");
        const ctx = offCanvas.getContext("2d");

        offCanvas.width = canvas.width;
        offCanvas.height = canvas.height;

        const fontSize = Math.floor(offCanvas.height * 0.35);
        ctx.font = `bold ${fontSize}px Arial`;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.clearRect(0, 0, offCanvas.width, offCanvas.height);
        ctx.fillStyle = "white";
        ctx.fillText(text, offCanvas.width / 2, offCanvas.height / 2);

        const imageData = ctx.getImageData(
          0,
          0,
          offCanvas.width,
          offCanvas.height
        ).data;
        const points = [];

        for (let y = 0; y < offCanvas.height; y += 4) {
          for (let x = 0; x < offCanvas.width; x += 4) {
            const index = (y * offCanvas.width + x) * 4;
            if (imageData[index + 3] > 128) {
              points.push({ x, y });
            }
          }
        }
        return points;
      }

      function initParticles() {
        const canvas = document.getElementById("ascii-canvas");
        const chars = ["‚òÖ", "‚óè", "‚ô•", "‚óÜ"];
        particles = [];

        for (let i = 0; i < 4000; i++) {
          particles.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            tx: 0,
            ty: 0,
            char: chars[Math.floor(Math.random() * chars.length)],
          });
        }
      }

      function morphTo(text) {
        const canvas = document.getElementById("ascii-canvas");
        const chars = ["‚òÖ", "‚óè", "‚ô•", "‚óÜ"];
        targetPoints = generatePoints(text);

        while (particles.length < targetPoints.length) {
          particles.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            tx: 0,
            ty: 0,
            char: chars[Math.floor(Math.random() * chars.length)],
          });
        }

        particles.forEach((particle, index) => {
          if (index < targetPoints.length) {
            particle.tx = targetPoints[index].x;
            particle.ty = targetPoints[index].y;
          } else {
            particle.tx = Math.random() * canvas.width;
            particle.ty = canvas.height + 50;
          }
        });
      }

      function drawParticles() {
        const canvas = document.getElementById("ascii-canvas");
        const ctx = canvas.getContext("2d");

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "#ff6bbb";
        ctx.font = "bold 12px monospace";
        ctx.textAlign = "center";
        ctx.shadowBlur = 8;
        ctx.shadowColor = "#ff6bbb";

        particles.forEach((particle) => {
          particle.x += (particle.tx - particle.x) * 0.08;
          particle.y += (particle.ty - particle.y) * 0.08;
          ctx.fillText(particle.char, particle.x, particle.y);
        });

        animFrame = requestAnimationFrame(drawParticles);
      }

      function startAsciiParticles() {
        const canvas = document.getElementById("ascii-canvas");
        canvas.classList.add("show");

        initParticles();
        drawParticles();

        // Message sequence
        let delay = 0;
        messages.forEach((msg) => {
          setTimeout(() => {
            morphTo(msg);
          }, delay);
          delay += 3500;
        });

        setTimeout(() => {
          document.getElementById("photo").classList.add("show");
          document.getElementById("photo-caption").classList.add("show");
          showFireworks();
        }, delay + 500);
      }

      function showFireworks() {
        const container = document.getElementById("fireworks-container");
        container.classList.add("show");

        const pinkColors = ["#ff1493", "#ff69b4", "#ff85a2"];

        // Create 20 pink fireworks
        for (let i = 0; i < 20; i++) {
          const firework = document.createElement("div");
          firework.className = "firework";
          firework.style.left = 8 + (i % 5) * 21 + "%";
          firework.style.top = 10 + Math.floor(i / 5) * 25 + "%";
          firework.style.animationDelay = i * 0.15 + "s";

          for (let j = 0; j < 20; j++) {
            const particle = document.createElement("div");
            particle.className = "firework-particle";
            const color = pinkColors[j % 3];
            particle.style.background = color;
            particle.style.boxShadow = `0 0 12px ${color}`;
            particle.style.setProperty("--rotation", j * 18 + "deg");
            particle.style.animationDelay = i * 0.15 + "s";
            firework.appendChild(particle);
          }

          container.appendChild(firework);
        }
      }

      // Cleanup on page unload
      window.addEventListener("beforeunload", () => {
        if (animFrame) cancelAnimationFrame(animFrame);
        if (matrixInterval) clearInterval(matrixInterval);
      });
    </script>
  </body>
</html>
