<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Happy Birthday </title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
      }

      body {
        font-family: "Arial", sans-serif;
        overflow: hidden;
        background: #000;
        touch-action: pan-y;
        width: 100%;
        height: 100vh;
        position: fixed;
      }

      .container {
        position: relative;
        width: 100vw;
        height: 100vh;
        background: black;
        overflow: hidden;
      }

      /* Flash Effect */
      #flash {
        position: fixed;
        inset: 0;
        background: white;
        pointer-events: none;
        z-index: 20;
        opacity: 0;
      }

      #flash.active {
        animation: flashAnim 1s forwards;
      }

      @keyframes flashAnim {
        0% { opacity: 0; }
        25% { opacity: 1; }
        100% { opacity: 0; }
      }

      /* Birthday Card */
      #birthday-card {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 15;
        display: none;
        width: 100%;
        padding: 20px;
      }

      #birthday-card.show {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .card-wrapper {
        cursor: pointer;
        transition: all 0.5s;
        -webkit-user-select: none;
        user-select: none;
        width: 100%;
        max-width: 350px;
      }

      .card-wrapper:active {
        transform: scale(0.95);
      }

      .card-container {
        position: relative;
        width: 100%;
        aspect-ratio: 7/10;
        max-width: 280px;
        margin: 0 auto;
      }

      @media (min-width: 640px) {
        .card-container {
          max-width: 350px;
        }
      }

      .card-glow {
        position: absolute;
        inset: 0;
        filter: blur(60px);
        opacity: 0.5;
        background: radial-gradient(circle, #ff1493, #ff69b4, transparent);
      }

      .card-main {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: 30px;
        overflow: hidden;
        background: linear-gradient(135deg, #fff0f5 0%, #ffe4e9 50%, #ffd1dc 100%);
        box-shadow: 0 30px 90px rgba(255, 20, 147, 0.4),
          0 15px 50px rgba(255, 105, 180, 0.3),
          inset 0 2px 30px rgba(255, 255, 255, 0.5);
      }

      .card-border {
        position: absolute;
        inset: 12px;
        border: 4px solid rgba(255, 192, 203, 0.5);
        border-radius: 25px;
        pointer-events: none;
      }

      .card-top-decoration {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      @media (min-width: 640px) {
        .card-top-decoration {
          height: 80px;
        }
      }

      .emoji-row {
        display: flex;
        gap: 3px;
      }

      @media (min-width: 640px) {
        .emoji-row {
          gap: 6px;
        }
      }

      .emoji-bounce {
        font-size: 18px;
        animation: bounce 1s ease-in-out infinite;
      }

      @media (min-width: 640px) {
        .emoji-bounce {
          font-size: 28px;
        }
      }

      .card-text {
        position: absolute;
        top: 60px;
        left: 0;
        right: 0;
        text-align: center;
        padding: 0 15px;
      }

      @media (min-width: 640px) {
        .card-text {
          top: 80px;
          padding: 0 24px;
        }
      }

      .card-title-1 {
        font-size: 24px;
        font-weight: 900;
        margin-bottom: 8px;
        background: linear-gradient(135deg, #ff1493, #ff69b4, #ff1493);
        background-size: 200% 200%;
        animation: gradient-shift 3s ease infinite;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      @media (min-width: 640px) {
        .card-title-1 {
          font-size: 38px;
          margin-bottom: 16px;
        }
      }

      .card-title-2 {
        font-size: 28px;
        font-weight: 900;
        margin-bottom: 8px;
        background: linear-gradient(135deg, #ff1493, #ff69b4, #ff1493);
        background-size: 200% 200%;
        animation: gradient-shift 3s ease infinite;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      @media (min-width: 640px) {
        .card-title-2 {
          font-size: 48px;
          margin-bottom: 12px;
        }
      }

      .card-divider {
        width: 50px;
        height: 3px;
        margin: 0 auto 8px;
        border-radius: 9999px;
        background: linear-gradient(to right, #ffc0cb, #ff69b4, #ffc0cb);
      }

      @media (min-width: 640px) {
        .card-divider {
          width: 64px;
          height: 4px;
          margin-bottom: 12px;
        }
      }

      .card-name {
        color: #ec4899;
        font-size: 13px;
        font-style: italic;
      }

      @media (min-width: 640px) {
        .card-name {
          font-size: 20px;
        }
      }

      .card-cake {
        position: absolute;
        left: 50%;
        top: 55%;
        transform: translateX(-50%);
        font-size: 35px;
      }

      @media (min-width: 640px) {
        .card-cake {
          top: 65%;
          font-size: 55px;
        }
      }

      .card-bottom-decoration {
        position: absolute;
        bottom: 15px;
        left: 0;
        right: 0;
        display: flex;
        justify-content: center;
        gap: 6px;
      }

      @media (min-width: 640px) {
        .card-bottom-decoration {
          bottom: 24px;
          gap: 12px;
        }
      }

      .emoji-pulse {
        font-size: 16px;
        animation: pulse 2s ease-in-out infinite;
      }

      @media (min-width: 640px) {
        .emoji-pulse {
          font-size: 24px;
        }
      }

      .mai-flower {
        position: absolute;
        font-size: 16px;
        animation: float-around 3s ease-in-out infinite;
        filter: hue-rotate(-10deg) saturate(3) brightness(1.2)
          drop-shadow(0 0 8px rgba(255, 215, 0, 0.9));
      }

      @media (min-width: 640px) {
        .mai-flower {
          font-size: 22px;
        }
      }

      .click-hint {
        position: absolute;
        bottom: -40px;
        left: 50%;
        transform: translateX(-50%);
        white-space: nowrap;
      }

      @media (min-width: 640px) {
        .click-hint {
          bottom: -48px;
        }
      }

      .click-hint-button {
        padding: 8px 18px;
        border-radius: 9999px;
        background: linear-gradient(90deg, #ff1493, #ff69b4, #ff1493);
        background-size: 200% 100%;
        animation: gradient-slide 2s linear infinite;
        box-shadow: 0 5px 20px rgba(255, 20, 147, 0.5);
        color: white;
        font-size: 12px;
        font-weight: 600;
      }

      @media (min-width: 640px) {
        .click-hint-button {
          padding: 12px 32px;
          font-size: 16px;
        }
      }

      /* Fireworks Container */
      #fireworks-container {
        position: fixed;
        inset: 0;
        z-index: 15;
        pointer-events: none;
        overflow: hidden;
        display: none;
        background: radial-gradient(circle at center, rgba(139, 0, 139, 0.2), transparent 60%);
      }

      #fireworks-container.show {
        display: block;
        animation: fireworks-bg-pulse 2s ease-in-out infinite;
      }

      @keyframes fireworks-bg-pulse {
        0%, 100% {
          background: radial-gradient(circle at 30% 40%, rgba(139, 0, 139, 0.15), transparent 50%);
        }
        50% {
          background: radial-gradient(circle at 70% 60%, rgba(255, 20, 147, 0.2), transparent 50%);
        }
      }

      /* Rocket trail - ENHANCED */
      .rocket {
        position: absolute;
        width: 3px;
        height: 40px;
        border-radius: 5px;
        animation: rocket-launch 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        filter: blur(0.5px);
      }

      .rocket::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: inherit;
        box-shadow: inherit;
        animation: rocket-glow 0.3s ease-in-out infinite;
      }

      @keyframes rocket-glow {
        0%, 100% {
          transform: translateX(-50%) scale(1);
          opacity: 1;
        }
        50% {
          transform: translateX(-50%) scale(1.5);
          opacity: 0.7;
        }
      }

      @keyframes rocket-launch {
        0% {
          transform: translateY(0) scale(1);
          opacity: 1;
        }
        100% {
          transform: translateY(var(--launch-distance)) scale(0.3);
          opacity: 0;
        }
      }

      /* Explosion - SUPER ENHANCED */
      .explosion-particle {
        position: absolute;
        width: 6px;
        height: 6px;
        border-radius: 50%;
        animation: particle-burst 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        filter: blur(0.5px);
      }

      .explosion-particle::before {
        content: '';
        position: absolute;
        inset: -2px;
        border-radius: 50%;
        background: inherit;
        opacity: 0.5;
        animation: particle-glow 2.5s ease-out forwards;
      }

      @keyframes particle-glow {
        0% {
          transform: scale(1);
          opacity: 0.8;
        }
        100% {
          transform: scale(3);
          opacity: 0;
        }
      }

      @keyframes particle-burst {
        0% {
          transform: translate(0, 0) scale(1);
          opacity: 1;
        }
        100% {
          transform: translate(var(--particle-x), var(--particle-y)) scale(0);
          opacity: 0;
        }
      }

      /* Heart Fireworks - NEW */
      .heart-firework {
        position: absolute;
        font-size: 40px;
        animation: heart-burst 2s ease-out forwards;
        filter: drop-shadow(0 0 20px currentColor);
      }

      @keyframes heart-burst {
        0% {
          transform: translate(-50%, -50%) scale(0) rotate(0deg);
          opacity: 0;
        }
        20% {
          opacity: 1;
        }
        100% {
          transform: translate(calc(-50% + var(--heart-x)), calc(-50% + var(--heart-y))) scale(1.5) rotate(360deg);
          opacity: 0;
        }
      }

      /* Star Burst - NEW */
      .star-burst {
        position: absolute;
        font-size: 30px;
        animation: star-spin 1.5s ease-out forwards;
        filter: drop-shadow(0 0 15px gold);
      }

      @keyframes star-spin {
        0% {
          transform: scale(0) rotate(0deg);
          opacity: 0;
        }
        30% {
          opacity: 1;
        }
        100% {
          transform: scale(2) rotate(720deg);
          opacity: 0;
        }
      }

      /* Balloons - ENHANCED */
      .balloon {
        position: absolute;
        font-size: 38px;
        animation: balloon-float ease-out forwards;
        filter: drop-shadow(0 0 20px currentColor);
      }

      .balloon::before {
        content: '';
        position: absolute;
        top: 100%;
        left: 50%;
        width: 2px;
        height: 50px;
        background: linear-gradient(to bottom, rgba(255, 255, 255, 0.5), transparent);
        transform: translateX(-50%);
      }

      @media (min-width: 640px) {
        .balloon {
          font-size: 48px;
        }
      }

      @keyframes balloon-float {
        0% {
          transform: translateY(0) rotate(0deg) scale(0.3);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        100% {
          transform: translateY(-120vh) rotate(var(--rotate)) scale(1);
          opacity: 0;
        }
      }

      /* Confetti - NEW */
      .confetti {
        position: absolute;
        width: 10px;
        height: 10px;
        animation: confetti-fall 3s linear forwards;
      }

      @keyframes confetti-fall {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotate(720deg);
          opacity: 0;
        }
      }

      /* Text Burst - NEW */
      .text-burst {
        position: absolute;
        font-size: 24px;
        font-weight: 900;
        color: white;
        text-shadow: 0 0 20px currentColor, 0 0 40px currentColor;
        animation: text-burst-anim 2s ease-out forwards;
      }

      @keyframes text-burst-anim {
        0% {
          transform: scale(0);
          opacity: 0;
        }
        30% {
          opacity: 1;
        }
        100% {
          transform: scale(2);
          opacity: 0;
        }
      }

      /* ASCII Canvas */
      #ascii-canvas {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
        opacity: 0;
        transition: opacity 0.3s;
        max-width: 95vw;
      }

      #ascii-canvas.show {
        opacity: 1;
      }

      /* Matrix Canvas */
      #matrix-canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        display: none;
        opacity: 1;
        transition: opacity 1s;
      }

      #matrix-canvas.show {
        display: block;
      }

      #matrix-canvas.fade {
        opacity: 0.2;
      }

      /* Photo Gallery Container - ENHANCED */
      #photo-gallery {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: 10;
        opacity: 0;
        transition: opacity 1.5s;
        overflow-y: auto;
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
        padding: 140px 12px 180px 12px;
        background: radial-gradient(circle at top, rgba(139, 0, 139, 0.15), transparent 70%),
                    radial-gradient(circle at bottom, rgba(255, 20, 147, 0.1), transparent 60%);
      }

      @media (min-width: 640px) {
        #photo-gallery {
          padding: 160px 20px 200px 20px;
        }
      }

      #photo-gallery.show {
        opacity: 1;
      }

      .gallery-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
        max-width: 1200px;
        margin: 0 auto;
        animation: gallery-fade-in 1.2s ease-out forwards;
      }

      @media (min-width: 640px) {
        .gallery-grid {
          grid-template-columns: repeat(3, 1fr);
          gap: 16px;
        }
      }

      @media (min-width: 1024px) {
        .gallery-grid {
          grid-template-columns: repeat(4, 1fr);
          gap: 20px;
        }
      }

      @keyframes gallery-fade-in {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Photo Item - SUPER ENHANCED */
      .photo-item {
        position: relative;
        overflow: hidden;
        border-radius: 20px;
        aspect-ratio: 1;
        animation: photo-pop-in 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) backwards;
        cursor: pointer;
        transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3),
                    0 0 0 1px rgba(255, 255, 255, 0.1);
      }

      @media (min-width: 640px) {
        .photo-item {
          border-radius: 24px;
        }
      }

      .photo-item:hover {
        transform: scale(1.08) translateY(-8px) rotate(2deg);
        box-shadow: 0 20px 60px rgba(255, 20, 147, 0.6),
                    0 0 80px rgba(255, 105, 180, 0.4),
                    0 0 0 3px rgba(255, 255, 255, 0.3);
        z-index: 10;
      }

      .photo-item:active {
        transform: scale(0.95);
      }

      .photo-item:nth-child(1) { animation-delay: 0.1s; }
      .photo-item:nth-child(2) { animation-delay: 0.2s; }
      .photo-item:nth-child(3) { animation-delay: 0.3s; }
      .photo-item:nth-child(4) { animation-delay: 0.4s; }
      .photo-item:nth-child(5) { animation-delay: 0.5s; }
      .photo-item:nth-child(6) { animation-delay: 0.6s; }

      @keyframes photo-pop-in {
        0% {
          opacity: 0;
          transform: scale(0.3) rotate(-15deg);
        }
        100% {
          opacity: 1;
          transform: scale(1) rotate(0deg);
        }
      }

      .photo-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        transition: transform 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      .photo-item:hover img {
        transform: scale(1.15);
      }

      /* Photo Overlay - ENHANCED */
      .photo-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, 
          rgba(255, 20, 147, 0.4), 
          rgba(147, 51, 234, 0.3),
          rgba(255, 105, 180, 0.4));
        opacity: 0;
        transition: opacity 0.5s;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 50px;
        backdrop-filter: blur(2px);
      }

      .photo-item:hover .photo-overlay {
        opacity: 1;
      }

      .photo-overlay-emoji {
        animation: emoji-bounce-in 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.8));
      }

      @keyframes emoji-bounce-in {
        0% {
          transform: scale(0) rotate(-180deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }

      /* Gradient Border - ENHANCED */
      .photo-item::before {
        content: '';
        position: absolute;
        inset: -3px;
        border-radius: 20px;
        padding: 3px;
        background: linear-gradient(135deg, 
          #ff1493, 
          #9333ea, 
          #ff69b4, 
          #ffd700,
          #ff1493);
        background-size: 300% 300%;
        animation: gradient-rotate 3s ease infinite;
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        opacity: 0;
        transition: opacity 0.5s;
      }

      @media (min-width: 640px) {
        .photo-item::before {
          border-radius: 24px;
        }
      }

      .photo-item:hover::before {
        opacity: 1;
      }

      @keyframes gradient-rotate {
        0%, 100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      /* Sparkles - NEW */
      .photo-sparkle {
        position: absolute;
        font-size: 20px;
        opacity: 0;
        transition: all 0.5s;
        pointer-events: none;
      }

      .photo-sparkle-1 {
        top: 10px;
        right: 10px;
        animation: sparkle-twinkle 1.5s ease-in-out infinite;
      }

      .photo-sparkle-2 {
        bottom: 10px;
        left: 10px;
        animation: sparkle-twinkle 1.5s ease-in-out infinite 0.5s;
      }

      .photo-item:hover .photo-sparkle {
        opacity: 1;
      }

      @keyframes sparkle-twinkle {
        0%, 100% {
          opacity: 1;
          transform: scale(1) rotate(0deg);
        }
        50% {
          opacity: 0.5;
          transform: scale(1.3) rotate(180deg);
        }
      }

      /* Photo Caption - SUPER ENHANCED */
      #photo-caption {
        position: fixed;
        top: 40px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 11;
        opacity: 0;
        transition: opacity 1.5s;
        text-align: center;
        padding: 0 16px;
        width: 100%;
      }

      @media (min-width: 640px) {
        #photo-caption {
          top: 60px;
        }
      }

      #photo-caption.show {
        opacity: 1;
      }

      .caption-wrapper {
        position: relative;
        display: inline-block;
      }

      /* Multi-layer Glow Effect */
      .caption-glow {
        position: absolute;
        inset: -30px;
        filter: blur(50px);
        opacity: 0.8;
        background: 
          radial-gradient(circle, #ff1493 0%, transparent 70%),
          radial-gradient(circle, #9d4edd 0%, transparent 70%),
          radial-gradient(circle, #ffd700 0%, transparent 70%);
        animation: glow-pulse 2.5s ease-in-out infinite;
      }

      @keyframes glow-pulse {
        0%, 100% {
          opacity: 0.6;
          transform: scale(1);
          filter: blur(50px);
        }
        50% {
          opacity: 1;
          transform: scale(1.15);
          filter: blur(60px);
        }
      }

      .caption-text {
        position: relative;
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: center;
        gap: 6px;
      }

      @media (min-width: 640px) {
        .caption-text {
          gap: 12px;
        }
      }

      .caption-word {
        font-size: 28px;
        font-weight: 900;
        background: linear-gradient(135deg, 
          #ff1493 0%, 
          #ff69b4 20%, 
          #ffd700 40%, 
          #9d4edd 60%,
          #ff69b4 80%,
          #ff1493 100%);
        background-size: 400% 400%;
        animation: gradient-flow 5s ease infinite;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        filter: drop-shadow(0 0 25px rgba(255, 105, 180, 1))
                drop-shadow(0 0 50px rgba(157, 78, 221, 0.6));
        animation: text-glow 2.5s ease-in-out infinite, text-float 3s ease-in-out infinite;
        letter-spacing: 2px;
      }

      @media (min-width: 640px) {
        .caption-word {
          font-size: 48px;
        }
      }

      @media (min-width: 768px) {
        .caption-word {
          font-size: 56px;
        }
      }

      @keyframes gradient-flow {
        0%, 100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      @keyframes text-glow {
        0%, 100% {
          filter: drop-shadow(0 0 20px rgba(255, 105, 180, 0.8))
                  drop-shadow(0 0 40px rgba(157, 78, 221, 0.4));
        }
        50% {
          filter: drop-shadow(0 0 40px rgba(255, 105, 180, 1))
                  drop-shadow(0 0 80px rgba(157, 78, 221, 0.8))
                  drop-shadow(0 0 120px rgba(255, 215, 0, 0.6));
        }
      }

      @keyframes text-float {
        0%, 100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-5px);
        }
      }

      .caption-icon {
        font-size: 32px;
        animation: icon-bounce 2s ease-in-out infinite;
        filter: drop-shadow(0 0 20px rgba(255, 215, 0, 1))
                drop-shadow(0 0 40px rgba(255, 105, 180, 0.8));
        transform-origin: center;
      }

      @media (min-width: 640px) {
        .caption-icon {
          font-size: 52px;
        }
      }

      @media (min-width: 768px) {
        .caption-icon {
          font-size: 60px;
        }
      }

      @keyframes icon-bounce {
        0%, 100% {
          transform: translateY(0) scale(1) rotate(0deg);
        }
        25% {
          transform: translateY(-15px) scale(1.1) rotate(-10deg);
        }
        75% {
          transform: translateY(-15px) scale(1.1) rotate(10deg);
        }
      }

      /* Subtitle with name - NEW */
      .caption-subtitle {
        margin-top: 8px;
        font-size: 14px;
        font-weight: 600;
        color: #ffc0cb;
        animation: subtitle-glow 2s ease-in-out infinite;
        letter-spacing: 1px;
      }

      @media (min-width: 640px) {
        .caption-subtitle {
          margin-top: 12px;
          font-size: 18px;
        }
      }

      @keyframes subtitle-glow {
        0%, 100% {
          text-shadow: 0 0 10px rgba(255, 192, 203, 0.8),
                       0 0 20px rgba(255, 105, 180, 0.6);
        }
        50% {
          text-shadow: 0 0 20px rgba(255, 192, 203, 1),
                       0 0 40px rgba(255, 105, 180, 1),
                       0 0 60px rgba(157, 78, 221, 0.8);
        }
      }

      /* Bottom Message - ENHANCED */
      .gallery-message {
        margin-top: 40px;
        text-align: center;
        animation: message-fade-in 1.5s ease-out 1s backwards;
      }

      @media (min-width: 640px) {
        .gallery-message {
          margin-top: 60px;
        }
      }

      @keyframes message-fade-in {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .message-box {
        position: relative;
        display: inline-block;
      }

      .message-glow {
        position: absolute;
        inset: -20px;
        filter: blur(40px);
        opacity: 0.7;
        background: linear-gradient(90deg, #ff1493, #9d4edd, #ff1493);
        animation: glow-pulse 2s ease-in-out infinite;
      }

      .message-content {
        position: relative;
        padding: 16px 32px;
        border-radius: 50px;
        background: linear-gradient(135deg, 
          rgba(255, 20, 147, 0.9), 
          rgba(157, 78, 221, 0.9));
        backdrop-filter: blur(10px);
        border: 2px solid rgba(255, 192, 203, 0.4);
        box-shadow: 0 8px 32px rgba(255, 20, 147, 0.5),
                    0 0 60px rgba(157, 78, 221, 0.3);
        color: white;
        font-size: 15px;
        font-weight: 600;
        text-shadow: 0 0 20px rgba(255, 255, 255, 0.6);
      }

      @media (min-width: 640px) {
        .message-content {
          padding: 20px 48px;
          font-size: 20px;
        }
      }

      /* Background fireworks */
      #bg-fireworks {
        position: fixed;
        inset: 0;
        z-index: 5;
        pointer-events: none;
        display: none;
      }

      #bg-fireworks.show {
        display: block;
      }

      .bg-firework {
        position: absolute;
        animation: bg-burst 2s ease-out infinite;
      }

      @keyframes bg-burst {
        0% {
          transform: scale(0);
          opacity: 0.8;
        }
        50% {
          opacity: 1;
        }
        100% {
          transform: scale(2);
          opacity: 0;
        }
      }

      .bg-particle {
        position: absolute;
        width: 3px;
        height: 3px;
        border-radius: 50%;
        animation: bg-particle-move 2s ease-out infinite;
      }

      @keyframes bg-particle-move {
        0% {
          transform: rotate(var(--angle)) translateY(0);
          opacity: 1;
        }
        100% {
          transform: rotate(var(--angle)) translateY(-120px);
          opacity: 0;
        }
      }

      /* Common animations */
      @keyframes gradient-shift {
        0%, 100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      @keyframes gradient-slide {
        0% {
          background-position: 0% 50%;
        }
        100% {
          background-position: 200% 50%;
        }
      }

      @keyframes bounce {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes pulse {
        0%, 100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.5;
          transform: scale(1.1);
        }
      }

      @keyframes float-around {
        0%, 100% {
          transform: translate(0, 0) rotate(0deg);
          opacity: 0.6;
        }
        50% {
          transform: translate(10px, -15px) rotate(180deg);
          opacity: 1;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Flash Effect -->
      <div id="flash"></div>

      <!-- Birthday Card -->
      <div id="birthday-card" class="show">
        <div class="card-wrapper" id="card-button">
          <div class="card-container">
            <div class="card-glow"></div>

            <div class="card-main">
              <div class="card-border"></div>

              <div class="card-top-decoration">
                <div class="emoji-row">
                  <div class="emoji-bounce" style="animation-delay: 0s">üéà</div>
                  <div class="emoji-bounce" style="animation-delay: 0.1s">üéâ</div>
                  <div class="emoji-bounce" style="animation-delay: 0.2s">üéÇ</div>
                  <div class="emoji-bounce" style="animation-delay: 0.3s">üéÅ</div>
                  <div class="emoji-bounce" style="animation-delay: 0.4s">üéÇ</div>
                  <div class="emoji-bounce" style="animation-delay: 0.5s">üéâ</div>
                  <div class="emoji-bounce" style="animation-delay: 0.6s">üéà</div>
                </div>
              </div>

              <div class="card-text">
                <div class="card-title-1">HAPPY</div>
                <div class="card-title-2">BIRTHDAY</div>
                <div class="card-divider"></div>
                <div class="card-name">Ph·∫°m Th·ªã Tuy·∫øt Mai</div>
              </div>

              <div class="card-cake">üéÇ</div>

              <div class="card-bottom-decoration">
                <div class="emoji-pulse" style="animation-delay: 0s">üéä</div>
                <div class="emoji-pulse" style="animation-delay: 0.2s">üïØÔ∏è</div>
                <div class="emoji-pulse" style="animation-delay: 0.4s">ü•≥</div>
                <div class="emoji-pulse" style="animation-delay: 0.6s">üéâ</div>
                <div class="emoji-pulse" style="animation-delay: 0.8s">üéä</div>
              </div>

              <!-- Mai Flowers -->
              <div class="mai-flower" style="left: 15%; top: 20%; animation-delay: 0s">üåº</div>
              <div class="mai-flower" style="left: 30%; top: 45%; animation-delay: 0.3s">üåº</div>
              <div class="mai-flower" style="left: 45%; top: 25%; animation-delay: 0.6s">üåº</div>
              <div class="mai-flower" style="left: 60%; top: 45%; animation-delay: 0.9s">üåº</div>
              <div class="mai-flower" style="left: 75%; top: 25%; animation-delay: 1.2s">üåº</div>
              <div class="mai-flower" style="left: 90%; top: 45%; animation-delay: 1.5s">üåº</div>
            </div>

            <div class="click-hint">
              <div class="click-hint-button">Nh·∫•n ƒê√¢yüíå</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Fireworks Container -->
      <div id="fireworks-container"></div>

      <!-- ASCII Canvas -->
      <canvas id="ascii-canvas"></canvas>

      <!-- Matrix Canvas -->
      <canvas id="matrix-canvas"></canvas>

      <!-- Photo Gallery -->
      <div id="photo-gallery">
        <div class="gallery-grid" id="gallery-grid"></div>
        
        <!-- Bottom Message -->
        <!-- <div class="gallery-message">
          <div class="message-box">
            <div class="message-glow"></div>
            <div class="message-content">
              üéâ Ch√∫c b·∫°n tu·ªïi m·ªõi tr√†n ƒë·∫ßy ni·ªÅm vui & h·∫°nh ph√∫c! üéâ
            </div>
          </div>
        </div> -->
      </div>

      <!-- Photo Caption -->
      <div id="photo-caption">
        <div class="caption-wrapper">
          <div class="caption-glow"></div>
          <div class="caption-text">
            <span class="caption-word">HAPPY</span>
            <span class="caption-icon">üéÇ</span>
            <span class="caption-word">BIRTHDAY</span>
          </div>
          <!-- <div class="caption-subtitle">
            ‚ú® Ph·∫°m Th·ªã Tuy·∫øt Mai ‚ú®
          </div> -->
        </div>
      </div>

      <!-- Background Fireworks -->
      <div id="bg-fireworks"></div>
    </div>

    <script>
      // State variables
      let particles = [];
      let targetPoints = [];
      let animFrame;
      let matrixInterval;

      const pinkColors = ["#ff1493", "#ff69b4", "#ff85a2", "#ffb6c1", "#ffc0cb", "#ff99cc", "#ff77aa"];

      const messages = [
        "CH√öC M·ª™NG SINH NH·∫¨T üéâ",
        "07.12.2025 üïØÔ∏è",
        "22+",
        "PH·∫†M TH·ªä TUY·∫æT MAI",
      ];

      const photos = [
  { url: "images/mei.jpg", emoji: "üéÇ" },
  { url: "images/mei1.jpg", emoji: "üéà" },
  { url: "images/mei3.jpg", emoji: "üéÅ" },
  { url: "images/mei4.jpg", emoji: "üíñ" },
  { url: "images/mei2.jpg", emoji: "üéâ" },
  { url: "images/celebrate.jpg", emoji: "ü•≥" }
];

      // Create photo gallery
      function createPhotoGallery() {
        const grid = document.getElementById("gallery-grid");
        grid.innerHTML = "";

        photos.forEach((photo, index) => {
          const item = document.createElement("div");
          item.className = "photo-item";
          
          const img = document.createElement("img");
          img.src = photo.url;
          img.alt = "Birthday photo " + (index + 1);
          img.loading = "lazy";
          
          const overlay = document.createElement("div");
          overlay.className = "photo-overlay";
          
          const emoji = document.createElement("div");
          emoji.className = "photo-overlay-emoji";
          emoji.textContent = photo.emoji;
          overlay.appendChild(emoji);
          
          // Add sparkles
          const sparkle1 = document.createElement("div");
          sparkle1.className = "photo-sparkle photo-sparkle-1";
          sparkle1.textContent = "‚ú®";
          
          const sparkle2 = document.createElement("div");
          sparkle2.className = "photo-sparkle photo-sparkle-2";
          sparkle2.textContent = "üí´";
          
          item.appendChild(img);
          item.appendChild(overlay);
          item.appendChild(sparkle1);
          item.appendChild(sparkle2);
          grid.appendChild(item);
        });
      }

      // Handle card click
      function handleCardClick() {
        const card = document.getElementById("birthday-card");
        const flash = document.getElementById("flash");
        const fireworksContainer = document.getElementById("fireworks-container");

        card.classList.remove("show");
        flash.classList.add("active");

        setTimeout(() => {
          flash.classList.remove("active");
        }, 900);

        // Show fireworks
        fireworksContainer.classList.add("show");
        createFireworksShow();

        setTimeout(() => {
          fireworksContainer.classList.remove("show");
          startAsciiParticles();
        }, 5000);
      }

      // Create fireworks show
      function createFireworksShow() {
        const container = document.getElementById("fireworks-container");
        container.innerHTML = "";

        // Create 25 rockets
        for (let i = 0; i < 25; i++) {
          setTimeout(() => {
            launchFirework();
          }, i * 200);
        }

        // Add heart fireworks
        const heartColors = ["#ff1493", "#ff69b4", "#ff99cc", "#ffc0cb"];
        for (let i = 0; i < 12; i++) {
          setTimeout(() => {
            const x = 20 + Math.random() * 60;
            const y = 20 + Math.random() * 60;
            createHeartFirework(x, y, heartColors[i % heartColors.length]);
          }, 1000 + i * 350);
        }

        // Add star bursts
        for (let i = 0; i < 15; i++) {
          setTimeout(() => {
            const x = 15 + Math.random() * 70;
            const y = 15 + Math.random() * 70;
            createStarBurst(x, y);
          }, 1500 + i * 250);
        }

        // Add text bursts
        const texts = ["HAPPY", "BIRTHDAY", "TUY·∫æT MAI", "üéâ", "üíñ"];
        texts.forEach((text, i) => {
          setTimeout(() => {
            const x = 20 + i * 15;
            const y = 30 + (i % 2) * 20;
            createTextBurst(text, x, y);
          }, 2000 + i * 400);
        });

        // Add confetti
        for (let i = 0; i < 100; i++) {
          setTimeout(() => {
            createConfetti();
          }, i * 50);
        }

        // Add balloons
        const balloonEmojis = ["üéà", "üéÄ", "üíñ", "üíù", "üéÅ"];
        for (let i = 0; i < 40; i++) {
          const balloon = document.createElement("div");
          balloon.className = "balloon";
          balloon.textContent = balloonEmojis[Math.floor(Math.random() * balloonEmojis.length)];
          balloon.style.left = Math.random() * 100 + "%";
          balloon.style.bottom = "-50px";
          balloon.style.setProperty("--rotate", (Math.random() * 40 - 20) + "deg");
          balloon.style.animationDuration = (4 + Math.random() * 2) + "s";
          balloon.style.animationDelay = (Math.random() * 2.5) + "s";
          balloon.style.color = pinkColors[i % pinkColors.length];
          container.appendChild(balloon);
        }
      }

      // Create heart firework
      function createHeartFirework(x, y, color) {
        const container = document.getElementById("fireworks-container");
        const hearts = ["üíñ", "üíï", "üíó", "üíì", "üíù"];
        
        for (let i = 0; i < 8; i++) {
          const heart = document.createElement("div");
          heart.className = "heart-firework";
          heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
          heart.style.left = x + "%";
          heart.style.top = y + "%";
          heart.style.color = color;
          
          const angle = (360 / 8) * i;
          const distance = 150 + Math.random() * 100;
          const rad = angle * Math.PI / 180;
          const dx = Math.cos(rad) * distance;
          const dy = Math.sin(rad) * distance;
          
          heart.style.setProperty("--heart-x", dx + "px");
          heart.style.setProperty("--heart-y", dy + "px");
          heart.style.animationDelay = Math.random() * 0.3 + "s";
          
          container.appendChild(heart);
          
          setTimeout(() => {
            heart.remove();
          }, 2500);
        }
      }

      // Create star burst
      function createStarBurst(x, y) {
        const container = document.getElementById("fireworks-container");
        const stars = ["‚≠ê", "‚ú®", "üåü", "üí´"];
        
        for (let i = 0; i < 5; i++) {
          const star = document.createElement("div");
          star.className = "star-burst";
          star.textContent = stars[Math.floor(Math.random() * stars.length)];
          star.style.left = x + "%";
          star.style.top = y + "%";
          star.style.animationDelay = i * 0.1 + "s";
          
          container.appendChild(star);
          
          setTimeout(() => {
            star.remove();
          }, 2000);
        }
      }

      // Create text burst
      function createTextBurst(text, x, y) {
        const container = document.getElementById("fireworks-container");
        const textEl = document.createElement("div");
        textEl.className = "text-burst";
        textEl.textContent = text;
        textEl.style.left = x + "%";
        textEl.style.top = y + "%";
        textEl.style.color = pinkColors[Math.floor(Math.random() * pinkColors.length)];
        
        container.appendChild(textEl);
        
        setTimeout(() => {
          textEl.remove();
        }, 2500);
      }

      // Create confetti
      function createConfetti() {
        const container = document.getElementById("fireworks-container");
        const confetti = document.createElement("div");
        confetti.className = "confetti";
        confetti.style.left = Math.random() * 100 + "%";
        confetti.style.top = "-20px";
        confetti.style.background = pinkColors[Math.floor(Math.random() * pinkColors.length)];
        confetti.style.animationDuration = (2 + Math.random() * 2) + "s";
        confetti.style.animationDelay = Math.random() * 1 + "s";
        
        // Random shapes
        if (Math.random() > 0.5) {
          confetti.style.borderRadius = "50%";
        }
        
        container.appendChild(confetti);
        
        setTimeout(() => {
          confetti.remove();
        }, 5000);
      }

      // Launch firework
      function launchFirework() {
        const container = document.getElementById("fireworks-container");
        const startX = 10 + Math.random() * 80;
        const endY = 15 + Math.random() * 60;
        const color = pinkColors[Math.floor(Math.random() * pinkColors.length)];

        const rocket = document.createElement("div");
        rocket.className = "rocket";
        rocket.style.left = startX + "%";
        rocket.style.bottom = "0";
        rocket.style.background = "linear-gradient(to top, " + color + ", transparent)";
        rocket.style.boxShadow = "0 0 25px " + color + ", 0 0 50px " + color;
        rocket.style.setProperty("--launch-distance", "-" + (100 - endY) + "vh");
        container.appendChild(rocket);

        setTimeout(() => {
          createExplosion(startX, endY, color);
          rocket.remove();
        }, 1000);
      }

      // Create explosion
      function createExplosion(x, y, color) {
        const container = document.getElementById("fireworks-container");
        const explosion = document.createElement("div");
        explosion.style.position = "absolute";
        explosion.style.left = x + "%";
        explosion.style.top = y + "%";

        const particleCount = 50;
        for (let i = 0; i < particleCount; i++) {
          const angle = (360 / particleCount) * i;
          const distance = 100 + Math.random() * 80;
          const particle = document.createElement("div");
          particle.className = "explosion-particle";
          
          particle.style.background = color;
          particle.style.boxShadow = "0 0 20px " + color + ", 0 0 40px " + color;
          
          const rad = angle * Math.PI / 180;
          const dx = Math.cos(rad) * distance;
          const dy = Math.sin(rad) * distance;
          particle.style.setProperty("--particle-x", dx + "px");
          particle.style.setProperty("--particle-y", dy + "px");
          
          explosion.appendChild(particle);
        }

        container.appendChild(explosion);

        setTimeout(() => {
          explosion.remove();
        }, 2500);
      }

      // Generate points from text
      function generatePoints(text) {
        const canvas = document.getElementById("ascii-canvas");
        const offCanvas = document.createElement("canvas");
        const ctx = offCanvas.getContext("2d");

        offCanvas.width = canvas.width;
        offCanvas.height = canvas.height;

        const fontSize = Math.floor(offCanvas.height * 0.35);
        ctx.font = "bold " + fontSize + "px Arial";
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.clearRect(0, 0, offCanvas.width, offCanvas.height);
        ctx.fillStyle = "white";
        ctx.fillText(text, offCanvas.width / 2, offCanvas.height / 2);

        const imageData = ctx.getImageData(0, 0, offCanvas.width, offCanvas.height).data;
        const points = [];

        for (let y = 0; y < offCanvas.height; y += 4) {
          for (let x = 0; x < offCanvas.width; x += 4) {
            const index = (y * offCanvas.width + x) * 4;
            if (imageData[index + 3] > 128) {
              points.push({ x: x, y: y });
            }
          }
        }
        return points;
      }

      // Initialize particles
      function initParticles() {
        const canvas = document.getElementById("ascii-canvas");
        const chars = ["‚òÖ", "‚óè", "‚ô•", "‚óÜ"];
        particles = [];

        for (let i = 0; i < 4000; i++) {
          particles.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            tx: 0,
            ty: 0,
            char: chars[Math.floor(Math.random() * chars.length)],
          });
        }
      }

      // Morph to text
      function morphTo(text) {
        const canvas = document.getElementById("ascii-canvas");
        const chars = ["‚òÖ", "‚óè", "‚ô•", "‚óÜ"];
        targetPoints = generatePoints(text);

        while (particles.length < targetPoints.length) {
          particles.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            tx: 0,
            ty: 0,
            char: chars[Math.floor(Math.random() * chars.length)],
          });
        }

        particles.forEach((particle, index) => {
          if (index < targetPoints.length) {
            particle.tx = targetPoints[index].x;
            particle.ty = targetPoints[index].y;
          } else {
            particle.tx = Math.random() * canvas.width;
            particle.ty = canvas.height + 50;
          }
        });
      }

      // Draw particles
      function drawParticles() {
        const canvas = document.getElementById("ascii-canvas");
        const ctx = canvas.getContext("2d");

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "#ff6bbb";
        ctx.font = "bold 12px monospace";
        ctx.textAlign = "center";
        ctx.shadowBlur = 8;
        ctx.shadowColor = "#ff6bbb";

        particles.forEach((particle) => {
          particle.x += (particle.tx - particle.x) * 0.08;
          particle.y += (particle.ty - particle.y) * 0.08;
          ctx.fillText(particle.char, particle.x, particle.y);
        });

        animFrame = requestAnimationFrame(drawParticles);
      }

      // Start ASCII particles
      function startAsciiParticles() {
        // Start matrix rain first
        startMatrixRain();

        const canvas = document.getElementById("ascii-canvas");

        const width = Math.min(window.innerWidth * 0.95, 1200);
        const height = window.innerWidth < 768 ? 100 : 200;
        canvas.width = width;
        canvas.height = height;

        // Wait 2 seconds then fade matrix and show ASCII
        setTimeout(() => {
          const matrixCanvas = document.getElementById("matrix-canvas");
          matrixCanvas.classList.add("fade");
          canvas.classList.add("show");

          initParticles();
          drawParticles();

          let delay = 0;
          messages.forEach((msg) => {
            setTimeout(() => {
              morphTo(msg);
            }, delay);
            delay += 3000;
          });

          setTimeout(() => {
            canvas.classList.remove("show");
            matrixCanvas.classList.remove("show");
            if (matrixInterval) clearInterval(matrixInterval);

            setTimeout(() => {
              createPhotoGallery();
              document.getElementById("photo-gallery").classList.add("show");
              document.getElementById("photo-caption").classList.add("show");
              showBackgroundFireworks();
            }, 500);
          }, delay + 500);
        }, 2000);
      }

      // Matrix Rain
      function startMatrixRain() {
        const canvas = document.getElementById("matrix-canvas");
        const ctx = canvas.getContext("2d");

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        canvas.classList.add("show");

        const chars = "HAPPYBIRTHDAY";
        const fontSize = window.innerWidth < 768 ? 14 : 18;
        const columns = Math.floor(canvas.width / fontSize);
        const drops = Array(columns).fill(1);

        function rain() {
          ctx.fillStyle = "rgba(0,0,0,0.07)";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          ctx.fillStyle = "#ff7cb8";
          ctx.font = fontSize + "px monospace";

          for (let i = 0; i < drops.length; i++) {
            const char = chars[Math.floor(Math.random() * chars.length)];
            ctx.fillText(char, i * fontSize, drops[i] * fontSize);
            if (drops[i] * fontSize > canvas.height && Math.random() > 0.96) {
              drops[i] = 0;
            }
            drops[i]++;
          }
        }

        matrixInterval = setInterval(rain, 50);
      }

      // Show background fireworks
      function showBackgroundFireworks() {
        const container = document.getElementById("bg-fireworks");
        container.classList.add("show");

        // Create fireworks
        for (let i = 0; i < 15; i++) {
          const firework = document.createElement("div");
          firework.className = "bg-firework";
          firework.style.left = (10 + (i % 5) * 20) + "%";
          firework.style.top = (15 + Math.floor(i / 5) * 30) + "%";
          firework.style.animationDelay = (i * 0.3) + "s";

          for (let j = 0; j < 16; j++) {
            const particle = document.createElement("div");
            particle.className = "bg-particle";
            const color = pinkColors[j % pinkColors.length];
            particle.style.background = color;
            particle.style.boxShadow = "0 0 10px " + color;
            particle.style.setProperty("--angle", (j * 22.5) + "deg");
            particle.style.animationDelay = (i * 0.3) + "s";
            firework.appendChild(particle);
          }

          container.appendChild(firework);
        }

        // Add balloons
        const balloonEmojis = ["üéà", "üéÄ", "üíñ", "üíù"];
        for (let i = 0; i < 20; i++) {
          const balloon = document.createElement("div");
          balloon.className = "balloon";
          balloon.textContent = balloonEmojis[i % balloonEmojis.length];
          balloon.style.left = (i * 5) + "%";
          balloon.style.bottom = "-50px";
          balloon.style.setProperty("--rotate", (Math.random() * 40 - 20) + "deg");
          balloon.style.animationDuration = (5 + Math.random() * 3) + "s";
          balloon.style.animationDelay = (Math.random() * 4) + "s";
          balloon.style.filter = "drop-shadow(0 0 10px " + pinkColors[i % pinkColors.length] + ")";
          container.appendChild(balloon);
        }
      }

      // Setup event listeners
      document.getElementById("card-button").addEventListener("click", handleCardClick);

      // Cleanup
      window.addEventListener("beforeunload", () => {
        if (animFrame) cancelAnimationFrame(animFrame);
        if (matrixInterval) clearInterval(matrixInterval);
      });

      // Prevent zoom on double tap
      let lastTouchEnd = 0;
      document.addEventListener('touchend', function (event) {
        const now = (new Date()).getTime();
        if (now - lastTouchEnd <= 300) {
          event.preventDefault();
        }
        lastTouchEnd = now;
      }, false);
    </script>
  </body>
</html>